const ArgumentType = require('../../extension-support/argument-type');
const BlockType = require('../../extension-support/block-type');
const Cast = require('../../util/cast');
const log = require('../../util/log');

/**
 * Icon svg to be displayed at the left edge of each extension block, encoded as a data URI.
 * @type {string}
 */
// eslint-disable-next-line max-len
const blockIconURI = 'data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHdpZHRoPSIzOS40Nzc0MiIgaGVpZ2h0PSIzOS40Nzc0MiI+PGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTIyMC43ODk1NiwtMTU2LjU5MjM3KSI+PGcgZGF0YS1wYXBlci1kYXRhPSJ7JnF1b3Q7aXNQYWludGluZ0xheWVyJnF1b3Q7OnRydWV9IiBmaWxsPSJub25lIiBmaWxsLXJ1bGU9Im5vbmUiIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSJub25lIiBzdHJva2UtbGluZWNhcD0ibm9uZSIgc3Ryb2tlLWxpbmVqb2luPSJub25lIiBzdHJva2UtbWl0ZXJsaW1pdD0iMTAiIHN0cm9rZS1kYXNoYXJyYXk9IiIgc3Ryb2tlLWRhc2hvZmZzZXQ9IjAiIGZvbnQtZmFtaWx5PSJub25lIiBmb250LXdlaWdodD0ibm9uZSIgZm9udC1zaXplPSJub25lIiB0ZXh0LWFuY2hvcj0ibm9uZSIgc3R5bGU9Im1peC1ibGVuZC1tb2RlOiBub3JtYWwiPjxnIGRhdGEtcGFwZXItZGF0YT0ieyZxdW90O29yaWdQb3MmcXVvdDs6bnVsbH0iPjxwYXRoIGQ9Ik0yMjEuNzg5NTYsMTk1LjA2OTc5di0zNy40Nzc0MmgzNy40Nzc0MnYzNy40Nzc0MnoiIGRhdGEtcGFwZXItZGF0YT0ieyZxdW90O29yaWdQb3MmcXVvdDs6bnVsbH0iIGZpbGw9IiM5OTY2ZmYiIGZpbGwtcnVsZT0ibm9uemVybyIgc3Ryb2tlPSIjMDAwMDAwIiBzdHJva2Utd2lkdGg9IjIiIHN0cm9rZS1saW5lY2FwPSJidXR0IiBzdHJva2UtbGluZWpvaW49Im1pdGVyIi8+PGcgaWQ9InRhaWwiIGZpbGwtcnVsZT0iZXZlbm9kZCI+PHBhdGggZD0iTTIzNS40Mjc2MywxODMuOTA2ODdjMC4yODc3NSwwLjE0Mzg3IDAuODk5MjEsMC40Njc1OSAwLjAzNTk3LDEuNjkwNTFjLTAuODYzMjQsMS4yMjI5MiAtMy4zNDUwNiwxLjQ3NDcgLTMuNjMyODEsMS40NzQ3Yy0xLjExNTAyLDAuMDM1OTcgLTIuNDgxODIsMC4wMzU5NyAtMy45OTI0OSwtMC40Njc1OWMtNC4zODgxNCwtMS40Mzg3NCAtNC40MjQxMSwtNi4xNTA1OSAtMy4wMjEzNCwtNi45MDU5M2MxLjM2NjgsLTAuNzU1MzQgMS45NzgyNiwyLjE1ODEgMy45NTY1MiwzLjkyMDU1YzAuODYzMjQsMC43OTEzIDEuOTA2MzIsMS4wNzkwNSAyLjc2OTU3LDEuMjU4ODljMS4yMjI5MiwwLjIxNTgxIDMuNTYwODcsLTEuMTUwOTkgMy44ODQ1OCwtMC45NzExNXoiIGZpbGw9IiNmZmFiMTkiIHN0cm9rZT0iIzAwMTAyNiIgc3Ryb2tlLXdpZHRoPSIxLjIiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIvPjxwYXRoIGQ9Ik0yMjYuNTA3NDcsMTgwLjk5MzQzYzAuNTc1NDksMC45NzExNSAxLjY5MDUxLDIuMzM3OTQgMS42OTA1MSwyLjMzNzk0YzAsMCAtMS4zMzA4MywtMC4zMjM3MiAtMi4wODYxNywwLjI4Nzc1Yy0wLjYxMTQ2LDAuNDY3NTkgLTAuNDY3NTksMS4yNTg4OSAtMC4zOTU2NSwxLjUxMDY3Yy0wLjQ2NzU5LC0wLjQ2NzU5IC0xLjA0MzA4LC0xLjExNTAyIC0xLjQwMjc3LC0yLjM3MzkxYy0wLjM1OTY4LC0xLjI1ODg5IDAsLTIuNzY5NTcgMC43MTkzNywtMi45ODUzOGMwLjcxOTM3LC0wLjE0Mzg3IDAuODk5MjEsMC4zOTU2NSAxLjQ3NDcsMS4yMjI5MnoiIGlkPSJkZXRhaWwiIGZpbGw9IiNmZmZmZmYiIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIxIiBzdHJva2UtbGluZWNhcD0iYnV0dCIgc3Ryb2tlLWxpbmVqb2luPSJtaXRlciIvPjwvZz48cGF0aCBkPSJNMjM3LjIyNjA0LDE4Ny42NDc1OGMtMC42NDc0MywwLjQzMTYyIC0yLjg3NzQ3LDIuMDE0MjMgLTUuNzE4OTcsMi45MTM0NGwtMC4xNDM4NywwLjAzNTk3Yy0wLjE0Mzg3LDAuMDM1OTcgLTAuMjE1ODEsMC4yMTU4MSAtMC4xNDM4NywwLjM1OTY4YzAuNjExNDYsMC44NjMyNCAxLjcyNjQ4LDIuNTg5NzIgLTAuMjUxNzgsMy4yMDExOWMtMS45MDYzMiwwLjYxMTQ2IC01LjQ2NzE5LC00LjQ2MDA4IC0zLjk1NjUyLC01Ljc5MDkxYzAuNjgzNCwtMC41MDM1NiAxLjI5NDg2LC0wLjI1MTc4IDEuNjE4NTgsLTAuMTA3OTFjMC4xNzk4NCwwLjA3MTk0IDAuMzU5NjgsMC4wNzE5NCAwLjUzOTUzLDAuMDM1OTdjMC40MzE2MiwtMC4xNDM4NyAxLjIyMjkyLC0wLjQzMTYyIDEuODM0MzksLTAuNzU1MzRjMS41NDY2NCwtMC43OTEzIDEuOTA2MzIsLTEuMTE1MDIgMi42MjU2OSwtMS42NTQ1NWMwLjcxOTM3LC0wLjUzOTUzIDIuMzczOTEsLTEuODcwMzYgMy43MDQ3NCwtMC43MTkzN2MxLjE1MDk5LDAuOTcxMTUgMC41MDM1NiwyLjA1MDIgLTAuMTA3OTEsMi40ODE4MnoiIGlkPSJsZWciIGZpbGw9IiNmZmFiMTkiIGZpbGwtcnVsZT0iZXZlbm9kZCIgc3Ryb2tlPSIjMDAxMDI2IiBzdHJva2Utd2lkdGg9IjEuMiIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIi8+PHBhdGggZD0iTTI0Mi45NDUwMiwxODAuMTY2MTZjMC4xNzk4NCwwLjE0Mzg3IDIuMzczOTEsMi43MzM2IDMuMDkzMjgsMi4wODYxN2MwLjg2MzI0LC0wLjc1NTM0IDIuMDUwMiwtMi4yMzAwNCAzLjM0NTA2LC0xLjA0MzA4YzEuMjk0ODYsMS4xODY5NiAtMS4xNTA5OSwzLjIwMTE5IC0yLjE5NDA3LDMuNzQwNzFjLTIuNDgxODIsMS4xMTUwMiAtNC40OTYwNSwtMS4wMDcxMSAtNC45Mjc2NywtMS41ODI2MWMtMC40MzE2MiwtMC41NzU0OSAtMS4xODY5NiwtMS41NDY2NCAtMS4xODY5NiwtMi40ODE4MmMwLjAzNTk3LC0xLjAwNzExIDEuMjU4ODksLTEuMjU4ODkgMS44NzAzNiwtMC43MTkzN3oiIGlkPSJhcm0iIGZpbGw9IiNmZmFiMTkiIGZpbGwtcnVsZT0iZXZlbm9kZCIgc3Ryb2tlPSIjMDAxMDI2IiBzdHJva2Utd2lkdGg9IjEuMiIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIi8+PGcgaWQ9ImJvZHktYW5kLWxlZyIgZmlsbC1ydWxlPSJldmVub2RkIj48cGF0aCBkPSJNMjQyLjk4MDk5LDE4OC41NDY3OWMwLjc1NTM0LDAuNjgzNCAyLjQwOTg4LDIuMDg2MTcgMi40MDk4OCwyLjA4NjE3YzAsMCA1LjE0MzQ4LC0wLjg5OTIxIDUuMTQzNDgsMS42OTA1MWMwLDEuNTQ2NjQgLTIuNTg5NzIsMS45MDYzMiAtNi4wNzg2NiwxLjU4MjYxYy0wLjIxNTgxLC0wLjAzNTk3IC0wLjQzMTYyLC0wLjEwNzkxIC0wLjYxMTQ2LC0wLjI1MTc4Yy0wLjc5MTMsLTAuNjgzNCAtMy4wNTczMSwtMi42OTc2MyAtNC40OTYwNSwtNC4xMDA0Yy0yLjEyMjEzLC0yLjA4NjE3IC0zLjg4NDU4LC0zLjQ1Mjk2IC0zLjg4NDU4LC0zLjQ1Mjk2Yy0zLjA1NzMxLC0yLjk4NTM4IC0wLjU3NTQ5LC00LjI0NDI3IDAuMzk1NjUsLTUuOTcwNzVjMC44OTkyMSwtMS40NzQ3IDEuMjk0ODYsLTEuMTg2OTYgMy40NTI5NiwtMC43NTUzNGMxLjIyMjkyLDAuMTc5ODQgMS45NDIyOSwwLjI4Nzc1IDIuNzMzNiwwLjI1MTc4YzEuMTg2OTYsLTAuMDM1OTcgMC45NzExNSwxLjY5MDUxIDAuNjQ3NDMsMi41ODk3MmMwLDAgLTAuNTAzNTYsMS4zMzA4MyAtMC45NzExNSwyLjAxNDIzYy0wLjU3NTQ5LDAuODI3MjcgLTEuMDA3MTEsMS4zNjY4IC0xLjQzODc0LDEuNjkwNTF6IiBpZD0iYm9keSIgZmlsbD0iI2ZmYWIxOSIgc3Ryb2tlPSIjMDAxMDI2IiBzdHJva2Utd2lkdGg9IjEuMiIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIi8+PHBhdGggZD0iTTIzOS45NTk2NCwxODUuODg1MTNjMCwwIC0wLjUzOTUzLC0wLjQzMTYyIC0xLjExNTAyLC0wLjk3MTE1Yy0wLjcxOTM3LC0wLjY0NzQzIC0xLjQzODc0LC0xLjE4Njk2IC0wLjcxOTM3LC0yLjMwMTk4YzAuNjQ3NDMsLTAuODYzMjQgMS4yNTg4OSwtMi4wMTQyMyAyLjg3NzQ3LC0wLjk3MTE1YzEuNTQ2NjQsMC45NzExNSAwLjg2MzI0LDEuODcwMzYgMC44NjMyNCwxLjg3MDM2Yy0wLjc5MTMsMS42MTg1OCAtMS45MDYzMiwyLjM3MzkxIC0xLjkwNjMyLDIuMzczOTF6IiBpZD0idHVtbXkiIGZpbGw9IiNmZmZmZmYiIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIxIiBzdHJva2UtbGluZWNhcD0iYnV0dCIgc3Ryb2tlLWxpbmVqb2luPSJtaXRlciIvPjwvZz48cGF0aCBkPSJNMjM0LjUyODQyLDE4Mi45MzU3MmMwLjc5MTMsMS4wMDcxMSAyLjAxNDIzLDIuMjY2MDEgMC40Njc1OSwzLjMwOTA5Yy0yLjEyMjEzLDEuMTg2OTYgLTMuODg0NTgsLTIuNDA5ODggLTQuMjQ0MjcsLTMuNjY4NzdjLTAuMzIzNzIsLTEuMTE1MDIgMC42MTE0NiwtMS44MzQzOSAxLjQwMjc3LC0yLjQ0NTg1YzEuNTQ2NjQsLTEuMTE1MDIgMi44NDE1LC0yLjEyMjEzIDQuMjgwMjQsLTEuNTgyNjFjMS43OTg0MiwwLjY0NzQzIDAuNTAzNTYsMi4wODYxNyAtMC4zOTU2NSwyLjczMzZjLTAuNTM5NTMsMC4zOTU2NSAtMS4wNzkwNSwwLjgyNzI3IC0xLjQ3NDcsMS4wNzkwNWMtMC4xMDc5MSwwLjE3OTg0IC0wLjE0Mzg3LDAuMzk1NjUgLTAuMDM1OTcsMC41NzU0OXoiIGlkPSJhcm0iIGZpbGw9IiNmZmFiMTkiIGZpbGwtcnVsZT0iZXZlbm9kZCIgc3Ryb2tlPSIjMDAxMDI2IiBzdHJva2Utd2lkdGg9IjEuMiIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIi8+PGcgaWQ9ImhlYWQiIGZpbGwtcnVsZT0iZXZlbm9kZCI+PHBhdGggZD0iTTI0NS44NTg0NiwxNTguNjkzMDRjMC4xMDc5MSwtMC4wNzE5NCAwLjI4Nzc1LC0wLjAzNTk3IDAuMzIzNzIsMC4xMDc5MWwwLjkzNTE4LDMuODQ4NjJjMCwwIDIuMzAxOTgsMS42OTA1MSAyLjk4NTM4LDIuODc3NDdjMS4xNTA5OSwxLjk3ODI2IDEuMTg2OTYsMy41OTY4NCAxLjE4Njk2LDMuNTk2ODRjMCwwIDIuNTUzNzUsMC43NTUzNCAyLjk4NTM4LDIuODA1NTNjMC40MzE2MiwyLjA1MDIgLTEuMTUwOTksNS45MzQ3OCAtNy45MTMwNCw3LjI2NTYxYy02Ljc2MjA2LDEuMzMwODMgLTEyLjE5MzI4LC0wLjUwMzU2IC0xNC43NDcwNCwtNC42MDM5NWMtMi41NTM3NSwtNC4xMDA0IDEuNDc0NywtOC45OTIwOSAxLjI1ODg5LC04LjcwNDM1bC0wLjc1NTM0LC02LjQzODM0Yy0wLjAzNTk3LC0wLjE0Mzg3IDAuMTQzODcsLTAuMjUxNzggMC4yODc3NSwtMC4xNzk4NGw0LjM1MjE3LDIuODQxNWMwLDAgMS42MTg1OCwtMC42MTE0NiAzLjMwOTA5LC0wLjY4MzRjMS4wMDcxMSwtMC4wNzE5NCAxLjg3MDM2LDAgMi42OTc2MywwLjE0Mzg3eiIgZmlsbD0iI2ZmYWIxOSIgc3Ryb2tlPSIjMDAxMDI2IiBzdHJva2Utd2lkdGg9IjEuMiIgc3Ryb2tlLWxpbmVjYXA9ImJ1dHQiIHN0cm9rZS1saW5lam9pbj0ibWl0ZXIiLz48cGF0aCBkPSJNMjUxLjE4MTc4LDE2OS4yNjc3NGMwLDAgMi40ODE4MiwwLjY0NzQzIDIuOTEzNDQsMi42OTc2M2MwLjQzMTYyLDIuMDUwMiAtMS4yOTQ4Niw1Ljc1NDk0IC03Ljk4NDk4LDcuMDQ5OGMtOC43MDQzNSwxLjc5ODQyIC0xMi44NDA3MSwtMy4zODEwMyAtMTAuNDMwODMsLTcuMTkzNjhjMi40MDk4OCwtMy44NDg2MiA2LjU0NjI0LC0wLjU3NTQ5IDkuNTY3NTksLTAuNzkxM2MyLjU4OTcyLC0wLjE3OTg0IDIuODc3NDcsLTIuNDQ1ODUgNS45MzQ3OCwtMS43NjI0NXoiIGlkPSJmYWNlIiBmaWxsPSIjZmZmZmZmIiBzdHJva2U9Im5vbmUiIHN0cm9rZS13aWR0aD0iMSIgc3Ryb2tlLWxpbmVjYXA9ImJ1dHQiIHN0cm9rZS1saW5lam9pbj0ibWl0ZXIiLz48cGF0aCBkPSJNMjM5Ljg1MTc0LDE3My4xMTYzNmMwLC0wLjE0Mzg3IDAuMTQzODcsLTAuMjUxNzggMC4yODc3NSwtMC4yMTU4MWMwLjY4MzQsMC4yNTE3OCAyLjYyNTY5LDAuODI3MjcgNC43ODM3OSwwLjk3MTE1YzEuOTQyMjksMC4xMDc5MSAzLjA5MzI4LDAgMy42MzI4MSwtMC4xMDc5MWMwLjE3OTg0LC0wLjAzNTk3IDAuMzIzNzIsMC4xNDM4NyAwLjI1MTc4LDAuMzIzNzJjLTAuMzIzNzIsMC45NzExNSAtMS42OTA1MSwzLjY2ODc3IC01LjQ2NzE5LDMuNDUyOTZjLTMuMjczMTIsLTAuMzU5NjggLTMuNTk2ODQsLTIuNjYxNjYgLTMuNDg4OTMsLTQuNDI0MTF6IiBpZD0ibW91dGgiIGZpbGw9IiNmZmZmZmYiIHN0cm9rZT0iIzAwMTAyNiIgc3Ryb2tlLXdpZHRoPSIxLjIiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIvPjxwYXRoIGQ9Ik0yNTcuNzk5OTYsMTY5LjY2MzM5Yy0xLjY5MDUxLDEuMzY2OCAtNC4yODAyNCwxLjQwMjc3IC00LjI4MDI0LDEuNDAyNzciIGlkPSJ3aGlza2VyIiBmaWxsPSJub25lIiBzdHJva2U9IiMwMDEwMjYiIHN0cm9rZS13aWR0aD0iMS4yIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiLz48cGF0aCBkPSJNMjU3LjMzMjM3LDE3My42OTE4NWMtMi4yNjYwMSwwLjE3OTg0IC0zLjY2ODc3LC0wLjUwMzU2IC0zLjY2ODc3LC0wLjUwMzU2IiBpZD0id2hpc2tlciIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMDAxMDI2IiBzdHJva2Utd2lkdGg9IjEuMiIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIi8+PHBhdGggZD0iTTI0NS4xMDMxMiwxNzAuMDk1MDFjMC43NTUzNCwwIDEuNTQ2NjQsMC4wNzE5NCAxLjU4MjYxLDAuMzIzNzJjMC4wMzU5NywwLjUwMzU2IC0wLjUwMzU2LDEuNTEwNjcgLTEuMDc5MDUsMS41NDY2NGMtMC42NDc0MywwLjA3MTk0IC0yLjE1ODEsLTAuODI3MjcgLTIuMTU4MSwtMS40MDI3N2MtMC4wMzU5NywtMC40MzE2MiAwLjkzNTE4LC0wLjQ2NzU5IDEuNjU0NTUsLTAuNDY3NTl6IiBpZD0ibm9zZSIgZmlsbD0iIzAwMTAyNiIgc3Ryb2tlPSIjMDAxMDI2IiBzdHJva2Utd2lkdGg9IjEuMiIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIi8+PHBhdGggZD0iTTIyOC45MTczNSwxNjkuNTU1NDljMCwwIDMuMDkzMjgsMS4wMDcxMSA0LjM1MjE3LDIuMTIyMTMiIGlkPSJ3aGlza2VyIiBmaWxsPSJub25lIiBzdHJva2U9IiMwMDEwMjYiIHN0cm9rZS13aWR0aD0iMS4yIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiLz48cGF0aCBkPSJNMjMzLjM3NzQzLDE3Mi45MzY1MmMtMS41NDY2NCwwLjYxMTQ2IC00LjIwODMsMC4yMTU4MSAtNC4yMDgzLDAuMjE1ODEiIGlkPSJ3aGlza2VyIiBmaWxsPSJub25lIiBzdHJva2U9IiMwMDEwMjYiIHN0cm9rZS13aWR0aD0iMS4yIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiLz48ZyBpZD0iZXllIj48cGF0aCBkPSJNMjQ5LjM0NzM5LDE2NS44ODY3MWMxLjA0MzA4LDEuNjE4NTggMS4wNzkwNSwzLjQ1Mjk2IDAuMDcxOTQsNC4xMDA0Yy0xLjAwNzExLDAuNjQ3NDMgLTIuNjYxNjYsLTAuMTA3OTEgLTMuNzQwNzEsLTEuNzI2NDhjLTEuMDQzMDgsLTEuNjE4NTggLTEuMDc5MDUsLTMuNDUyOTYgLTAuMDcxOTQsLTQuMTAwNGMxLjAwNzExLC0wLjY4MzQgMi42OTc2MywwLjEwNzkxIDMuNzQwNzEsMS43MjY0OHoiIGlkPSJwdXBpbCIgZmlsbD0iI2ZmZmZmZiIgc3Ryb2tlPSIjMDAxMDI2IiBzdHJva2Utd2lkdGg9IjEuMiIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIi8+PHBhdGggZD0iTTI0OS4yMDM1MiwxNjcuOTM2OTFjMCwwLjM5NTY1IC0wLjI4Nzc1LDAuNzE5MzcgLTAuNjQ3NDMsMC43MTkzN2MtMC4zNTk2OCwwIC0wLjY0NzQzLC0wLjMyMzcyIC0wLjY0NzQzLC0wLjcxOTM3YzAsLTAuMzk1NjUgMC4yODc3NSwtMC43MTkzNyAwLjY0NzQzLC0wLjcxOTM3YzAuMzU5NjgsMCAwLjY0NzQzLDAuMzIzNzIgMC42NDc0MywwLjcxOTM3IiBpZD0icHVwaWwiIGZpbGw9IiMwMDEwMjYiIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIxIiBzdHJva2UtbGluZWNhcD0iYnV0dCIgc3Ryb2tlLWxpbmVqb2luPSJtaXRlciIvPjwvZz48ZyBpZD0iZXllIj48cGF0aCBkPSJNMjQwLjQyNzIzLDE2Ni44OTM4M2MxLjA3OTA1LDEuNTgyNjEgMS4wMDcxMSwzLjUyNDkgMC4wMzU5Nyw0LjIwODNjLTEuMTg2OTYsMC42ODM0IC0yLjc2OTU3LDAuMTc5ODQgLTMuODQ4NjIsLTEuNDAyNzdjLTEuMTE1MDIsLTEuNTgyNjEgLTEuMTg2OTYsLTMuNjMyODEgLTAuMDcxOTQsLTQuNDI0MTFjMS4xMTUwMiwtMC44MjcyNyAyLjgwNTUzLDAuMDM1OTcgMy44ODQ1OCwxLjYxODU4eiIgZmlsbD0iI2ZmZmZmZiIgc3Ryb2tlPSIjMDAxMDI2IiBzdHJva2Utd2lkdGg9IjEuMiIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIi8+PHBhdGggZD0iTTI0MC4yMTE0MiwxNjguOTc5OTljMCwwLjM5NTY1IC0wLjI4Nzc1LDAuNzE5MzcgLTAuNjQ3NDMsMC43MTkzN2MtMC4zNTk2OCwwIC0wLjY0NzQzLC0wLjMyMzcyIC0wLjY0NzQzLC0wLjcxOTM3YzAsLTAuMzk1NjUgMC4yODc3NSwtMC43MTkzNyAwLjY0NzQzLC0wLjcxOTM3YzAuMzU5NjgsMC4wMzU5NyAwLjY0NzQzLDAuMzIzNzIgMC42NDc0MywwLjcxOTM3IiBpZD0icHVwaWwiIGZpbGw9IiMwMDEwMjYiIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIxIiBzdHJva2UtbGluZWNhcD0iYnV0dCIgc3Ryb2tlLWxpbmVqb2luPSJtaXRlciIvPjwvZz48L2c+PC9nPjwvZz48L2c+PC9zdmc+';

/**
 * Icon svg to be displayed in the category menu, encoded as a data URI.
 * @type {string}
 */
// eslint-disable-next-line max-len
const menuIconURI = 'data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHdpZHRoPSIzOS40Nzc0MiIgaGVpZ2h0PSIzOS40Nzc0MiI+PGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTIyMC43ODk1NiwtMTU2LjU5MjM3KSI+PGcgZGF0YS1wYXBlci1kYXRhPSJ7JnF1b3Q7aXNQYWludGluZ0xheWVyJnF1b3Q7OnRydWV9IiBmaWxsPSJub25lIiBmaWxsLXJ1bGU9Im5vbmUiIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSJub25lIiBzdHJva2UtbGluZWNhcD0ibm9uZSIgc3Ryb2tlLWxpbmVqb2luPSJub25lIiBzdHJva2UtbWl0ZXJsaW1pdD0iMTAiIHN0cm9rZS1kYXNoYXJyYXk9IiIgc3Ryb2tlLWRhc2hvZmZzZXQ9IjAiIGZvbnQtZmFtaWx5PSJub25lIiBmb250LXdlaWdodD0ibm9uZSIgZm9udC1zaXplPSJub25lIiB0ZXh0LWFuY2hvcj0ibm9uZSIgc3R5bGU9Im1peC1ibGVuZC1tb2RlOiBub3JtYWwiPjxnIGRhdGEtcGFwZXItZGF0YT0ieyZxdW90O29yaWdQb3MmcXVvdDs6bnVsbH0iPjxwYXRoIGQ9Ik0yMjEuNzg5NTYsMTk1LjA2OTc5di0zNy40Nzc0MmgzNy40Nzc0MnYzNy40Nzc0MnoiIGRhdGEtcGFwZXItZGF0YT0ieyZxdW90O29yaWdQb3MmcXVvdDs6bnVsbH0iIGZpbGw9IiM5OTY2ZmYiIGZpbGwtcnVsZT0ibm9uemVybyIgc3Ryb2tlPSIjMDAwMDAwIiBzdHJva2Utd2lkdGg9IjIiIHN0cm9rZS1saW5lY2FwPSJidXR0IiBzdHJva2UtbGluZWpvaW49Im1pdGVyIi8+PGcgaWQ9InRhaWwiIGZpbGwtcnVsZT0iZXZlbm9kZCI+PHBhdGggZD0iTTIzNS40Mjc2MywxODMuOTA2ODdjMC4yODc3NSwwLjE0Mzg3IDAuODk5MjEsMC40Njc1OSAwLjAzNTk3LDEuNjkwNTFjLTAuODYzMjQsMS4yMjI5MiAtMy4zNDUwNiwxLjQ3NDcgLTMuNjMyODEsMS40NzQ3Yy0xLjExNTAyLDAuMDM1OTcgLTIuNDgxODIsMC4wMzU5NyAtMy45OTI0OSwtMC40Njc1OWMtNC4zODgxNCwtMS40Mzg3NCAtNC40MjQxMSwtNi4xNTA1OSAtMy4wMjEzNCwtNi45MDU5M2MxLjM2NjgsLTAuNzU1MzQgMS45NzgyNiwyLjE1ODEgMy45NTY1MiwzLjkyMDU1YzAuODYzMjQsMC43OTEzIDEuOTA2MzIsMS4wNzkwNSAyLjc2OTU3LDEuMjU4ODljMS4yMjI5MiwwLjIxNTgxIDMuNTYwODcsLTEuMTUwOTkgMy44ODQ1OCwtMC45NzExNXoiIGZpbGw9IiNmZmFiMTkiIHN0cm9rZT0iIzAwMTAyNiIgc3Ryb2tlLXdpZHRoPSIxLjIiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIvPjxwYXRoIGQ9Ik0yMjYuNTA3NDcsMTgwLjk5MzQzYzAuNTc1NDksMC45NzExNSAxLjY5MDUxLDIuMzM3OTQgMS42OTA1MSwyLjMzNzk0YzAsMCAtMS4zMzA4MywtMC4zMjM3MiAtMi4wODYxNywwLjI4Nzc1Yy0wLjYxMTQ2LDAuNDY3NTkgLTAuNDY3NTksMS4yNTg4OSAtMC4zOTU2NSwxLjUxMDY3Yy0wLjQ2NzU5LC0wLjQ2NzU5IC0xLjA0MzA4LC0xLjExNTAyIC0xLjQwMjc3LC0yLjM3MzkxYy0wLjM1OTY4LC0xLjI1ODg5IDAsLTIuNzY5NTcgMC43MTkzNywtMi45ODUzOGMwLjcxOTM3LC0wLjE0Mzg3IDAuODk5MjEsMC4zOTU2NSAxLjQ3NDcsMS4yMjI5MnoiIGlkPSJkZXRhaWwiIGZpbGw9IiNmZmZmZmYiIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIxIiBzdHJva2UtbGluZWNhcD0iYnV0dCIgc3Ryb2tlLWxpbmVqb2luPSJtaXRlciIvPjwvZz48cGF0aCBkPSJNMjM3LjIyNjA0LDE4Ny42NDc1OGMtMC42NDc0MywwLjQzMTYyIC0yLjg3NzQ3LDIuMDE0MjMgLTUuNzE4OTcsMi45MTM0NGwtMC4xNDM4NywwLjAzNTk3Yy0wLjE0Mzg3LDAuMDM1OTcgLTAuMjE1ODEsMC4yMTU4MSAtMC4xNDM4NywwLjM1OTY4YzAuNjExNDYsMC44NjMyNCAxLjcyNjQ4LDIuNTg5NzIgLTAuMjUxNzgsMy4yMDExOWMtMS45MDYzMiwwLjYxMTQ2IC01LjQ2NzE5LC00LjQ2MDA4IC0zLjk1NjUyLC01Ljc5MDkxYzAuNjgzNCwtMC41MDM1NiAxLjI5NDg2LC0wLjI1MTc4IDEuNjE4NTgsLTAuMTA3OTFjMC4xNzk4NCwwLjA3MTk0IDAuMzU5NjgsMC4wNzE5NCAwLjUzOTUzLDAuMDM1OTdjMC40MzE2MiwtMC4xNDM4NyAxLjIyMjkyLC0wLjQzMTYyIDEuODM0MzksLTAuNzU1MzRjMS41NDY2NCwtMC43OTEzIDEuOTA2MzIsLTEuMTE1MDIgMi42MjU2OSwtMS42NTQ1NWMwLjcxOTM3LC0wLjUzOTUzIDIuMzczOTEsLTEuODcwMzYgMy43MDQ3NCwtMC43MTkzN2MxLjE1MDk5LDAuOTcxMTUgMC41MDM1NiwyLjA1MDIgLTAuMTA3OTEsMi40ODE4MnoiIGlkPSJsZWciIGZpbGw9IiNmZmFiMTkiIGZpbGwtcnVsZT0iZXZlbm9kZCIgc3Ryb2tlPSIjMDAxMDI2IiBzdHJva2Utd2lkdGg9IjEuMiIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIi8+PHBhdGggZD0iTTI0Mi45NDUwMiwxODAuMTY2MTZjMC4xNzk4NCwwLjE0Mzg3IDIuMzczOTEsMi43MzM2IDMuMDkzMjgsMi4wODYxN2MwLjg2MzI0LC0wLjc1NTM0IDIuMDUwMiwtMi4yMzAwNCAzLjM0NTA2LC0xLjA0MzA4YzEuMjk0ODYsMS4xODY5NiAtMS4xNTA5OSwzLjIwMTE5IC0yLjE5NDA3LDMuNzQwNzFjLTIuNDgxODIsMS4xMTUwMiAtNC40OTYwNSwtMS4wMDcxMSAtNC45Mjc2NywtMS41ODI2MWMtMC40MzE2MiwtMC41NzU0OSAtMS4xODY5NiwtMS41NDY2NCAtMS4xODY5NiwtMi40ODE4MmMwLjAzNTk3LC0xLjAwNzExIDEuMjU4ODksLTEuMjU4ODkgMS44NzAzNiwtMC43MTkzN3oiIGlkPSJhcm0iIGZpbGw9IiNmZmFiMTkiIGZpbGwtcnVsZT0iZXZlbm9kZCIgc3Ryb2tlPSIjMDAxMDI2IiBzdHJva2Utd2lkdGg9IjEuMiIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIi8+PGcgaWQ9ImJvZHktYW5kLWxlZyIgZmlsbC1ydWxlPSJldmVub2RkIj48cGF0aCBkPSJNMjQyLjk4MDk5LDE4OC41NDY3OWMwLjc1NTM0LDAuNjgzNCAyLjQwOTg4LDIuMDg2MTcgMi40MDk4OCwyLjA4NjE3YzAsMCA1LjE0MzQ4LC0wLjg5OTIxIDUuMTQzNDgsMS42OTA1MWMwLDEuNTQ2NjQgLTIuNTg5NzIsMS45MDYzMiAtNi4wNzg2NiwxLjU4MjYxYy0wLjIxNTgxLC0wLjAzNTk3IC0wLjQzMTYyLC0wLjEwNzkxIC0wLjYxMTQ2LC0wLjI1MTc4Yy0wLjc5MTMsLTAuNjgzNCAtMy4wNTczMSwtMi42OTc2MyAtNC40OTYwNSwtNC4xMDA0Yy0yLjEyMjEzLC0yLjA4NjE3IC0zLjg4NDU4LC0zLjQ1Mjk2IC0zLjg4NDU4LC0zLjQ1Mjk2Yy0zLjA1NzMxLC0yLjk4NTM4IC0wLjU3NTQ5LC00LjI0NDI3IDAuMzk1NjUsLTUuOTcwNzVjMC44OTkyMSwtMS40NzQ3IDEuMjk0ODYsLTEuMTg2OTYgMy40NTI5NiwtMC43NTUzNGMxLjIyMjkyLDAuMTc5ODQgMS45NDIyOSwwLjI4Nzc1IDIuNzMzNiwwLjI1MTc4YzEuMTg2OTYsLTAuMDM1OTcgMC45NzExNSwxLjY5MDUxIDAuNjQ3NDMsMi41ODk3MmMwLDAgLTAuNTAzNTYsMS4zMzA4MyAtMC45NzExNSwyLjAxNDIzYy0wLjU3NTQ5LDAuODI3MjcgLTEuMDA3MTEsMS4zNjY4IC0xLjQzODc0LDEuNjkwNTF6IiBpZD0iYm9keSIgZmlsbD0iI2ZmYWIxOSIgc3Ryb2tlPSIjMDAxMDI2IiBzdHJva2Utd2lkdGg9IjEuMiIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIi8+PHBhdGggZD0iTTIzOS45NTk2NCwxODUuODg1MTNjMCwwIC0wLjUzOTUzLC0wLjQzMTYyIC0xLjExNTAyLC0wLjk3MTE1Yy0wLjcxOTM3LC0wLjY0NzQzIC0xLjQzODc0LC0xLjE4Njk2IC0wLjcxOTM3LC0yLjMwMTk4YzAuNjQ3NDMsLTAuODYzMjQgMS4yNTg4OSwtMi4wMTQyMyAyLjg3NzQ3LC0wLjk3MTE1YzEuNTQ2NjQsMC45NzExNSAwLjg2MzI0LDEuODcwMzYgMC44NjMyNCwxLjg3MDM2Yy0wLjc5MTMsMS42MTg1OCAtMS45MDYzMiwyLjM3MzkxIC0xLjkwNjMyLDIuMzczOTF6IiBpZD0idHVtbXkiIGZpbGw9IiNmZmZmZmYiIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIxIiBzdHJva2UtbGluZWNhcD0iYnV0dCIgc3Ryb2tlLWxpbmVqb2luPSJtaXRlciIvPjwvZz48cGF0aCBkPSJNMjM0LjUyODQyLDE4Mi45MzU3MmMwLjc5MTMsMS4wMDcxMSAyLjAxNDIzLDIuMjY2MDEgMC40Njc1OSwzLjMwOTA5Yy0yLjEyMjEzLDEuMTg2OTYgLTMuODg0NTgsLTIuNDA5ODggLTQuMjQ0MjcsLTMuNjY4NzdjLTAuMzIzNzIsLTEuMTE1MDIgMC42MTE0NiwtMS44MzQzOSAxLjQwMjc3LC0yLjQ0NTg1YzEuNTQ2NjQsLTEuMTE1MDIgMi44NDE1LC0yLjEyMjEzIDQuMjgwMjQsLTEuNTgyNjFjMS43OTg0MiwwLjY0NzQzIDAuNTAzNTYsMi4wODYxNyAtMC4zOTU2NSwyLjczMzZjLTAuNTM5NTMsMC4zOTU2NSAtMS4wNzkwNSwwLjgyNzI3IC0xLjQ3NDcsMS4wNzkwNWMtMC4xMDc5MSwwLjE3OTg0IC0wLjE0Mzg3LDAuMzk1NjUgLTAuMDM1OTcsMC41NzU0OXoiIGlkPSJhcm0iIGZpbGw9IiNmZmFiMTkiIGZpbGwtcnVsZT0iZXZlbm9kZCIgc3Ryb2tlPSIjMDAxMDI2IiBzdHJva2Utd2lkdGg9IjEuMiIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIi8+PGcgaWQ9ImhlYWQiIGZpbGwtcnVsZT0iZXZlbm9kZCI+PHBhdGggZD0iTTI0NS44NTg0NiwxNTguNjkzMDRjMC4xMDc5MSwtMC4wNzE5NCAwLjI4Nzc1LC0wLjAzNTk3IDAuMzIzNzIsMC4xMDc5MWwwLjkzNTE4LDMuODQ4NjJjMCwwIDIuMzAxOTgsMS42OTA1MSAyLjk4NTM4LDIuODc3NDdjMS4xNTA5OSwxLjk3ODI2IDEuMTg2OTYsMy41OTY4NCAxLjE4Njk2LDMuNTk2ODRjMCwwIDIuNTUzNzUsMC43NTUzNCAyLjk4NTM4LDIuODA1NTNjMC40MzE2MiwyLjA1MDIgLTEuMTUwOTksNS45MzQ3OCAtNy45MTMwNCw3LjI2NTYxYy02Ljc2MjA2LDEuMzMwODMgLTEyLjE5MzI4LC0wLjUwMzU2IC0xNC43NDcwNCwtNC42MDM5NWMtMi41NTM3NSwtNC4xMDA0IDEuNDc0NywtOC45OTIwOSAxLjI1ODg5LC04LjcwNDM1bC0wLjc1NTM0LC02LjQzODM0Yy0wLjAzNTk3LC0wLjE0Mzg3IDAuMTQzODcsLTAuMjUxNzggMC4yODc3NSwtMC4xNzk4NGw0LjM1MjE3LDIuODQxNWMwLDAgMS42MTg1OCwtMC42MTE0NiAzLjMwOTA5LC0wLjY4MzRjMS4wMDcxMSwtMC4wNzE5NCAxLjg3MDM2LDAgMi42OTc2MywwLjE0Mzg3eiIgZmlsbD0iI2ZmYWIxOSIgc3Ryb2tlPSIjMDAxMDI2IiBzdHJva2Utd2lkdGg9IjEuMiIgc3Ryb2tlLWxpbmVjYXA9ImJ1dHQiIHN0cm9rZS1saW5lam9pbj0ibWl0ZXIiLz48cGF0aCBkPSJNMjUxLjE4MTc4LDE2OS4yNjc3NGMwLDAgMi40ODE4MiwwLjY0NzQzIDIuOTEzNDQsMi42OTc2M2MwLjQzMTYyLDIuMDUwMiAtMS4yOTQ4Niw1Ljc1NDk0IC03Ljk4NDk4LDcuMDQ5OGMtOC43MDQzNSwxLjc5ODQyIC0xMi44NDA3MSwtMy4zODEwMyAtMTAuNDMwODMsLTcuMTkzNjhjMi40MDk4OCwtMy44NDg2MiA2LjU0NjI0LC0wLjU3NTQ5IDkuNTY3NTksLTAuNzkxM2MyLjU4OTcyLC0wLjE3OTg0IDIuODc3NDcsLTIuNDQ1ODUgNS45MzQ3OCwtMS43NjI0NXoiIGlkPSJmYWNlIiBmaWxsPSIjZmZmZmZmIiBzdHJva2U9Im5vbmUiIHN0cm9rZS13aWR0aD0iMSIgc3Ryb2tlLWxpbmVjYXA9ImJ1dHQiIHN0cm9rZS1saW5lam9pbj0ibWl0ZXIiLz48cGF0aCBkPSJNMjM5Ljg1MTc0LDE3My4xMTYzNmMwLC0wLjE0Mzg3IDAuMTQzODcsLTAuMjUxNzggMC4yODc3NSwtMC4yMTU4MWMwLjY4MzQsMC4yNTE3OCAyLjYyNTY5LDAuODI3MjcgNC43ODM3OSwwLjk3MTE1YzEuOTQyMjksMC4xMDc5MSAzLjA5MzI4LDAgMy42MzI4MSwtMC4xMDc5MWMwLjE3OTg0LC0wLjAzNTk3IDAuMzIzNzIsMC4xNDM4NyAwLjI1MTc4LDAuMzIzNzJjLTAuMzIzNzIsMC45NzExNSAtMS42OTA1MSwzLjY2ODc3IC01LjQ2NzE5LDMuNDUyOTZjLTMuMjczMTIsLTAuMzU5NjggLTMuNTk2ODQsLTIuNjYxNjYgLTMuNDg4OTMsLTQuNDI0MTF6IiBpZD0ibW91dGgiIGZpbGw9IiNmZmZmZmYiIHN0cm9rZT0iIzAwMTAyNiIgc3Ryb2tlLXdpZHRoPSIxLjIiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIvPjxwYXRoIGQ9Ik0yNTcuNzk5OTYsMTY5LjY2MzM5Yy0xLjY5MDUxLDEuMzY2OCAtNC4yODAyNCwxLjQwMjc3IC00LjI4MDI0LDEuNDAyNzciIGlkPSJ3aGlza2VyIiBmaWxsPSJub25lIiBzdHJva2U9IiMwMDEwMjYiIHN0cm9rZS13aWR0aD0iMS4yIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiLz48cGF0aCBkPSJNMjU3LjMzMjM3LDE3My42OTE4NWMtMi4yNjYwMSwwLjE3OTg0IC0zLjY2ODc3LC0wLjUwMzU2IC0zLjY2ODc3LC0wLjUwMzU2IiBpZD0id2hpc2tlciIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMDAxMDI2IiBzdHJva2Utd2lkdGg9IjEuMiIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIi8+PHBhdGggZD0iTTI0NS4xMDMxMiwxNzAuMDk1MDFjMC43NTUzNCwwIDEuNTQ2NjQsMC4wNzE5NCAxLjU4MjYxLDAuMzIzNzJjMC4wMzU5NywwLjUwMzU2IC0wLjUwMzU2LDEuNTEwNjcgLTEuMDc5MDUsMS41NDY2NGMtMC42NDc0MywwLjA3MTk0IC0yLjE1ODEsLTAuODI3MjcgLTIuMTU4MSwtMS40MDI3N2MtMC4wMzU5NywtMC40MzE2MiAwLjkzNTE4LC0wLjQ2NzU5IDEuNjU0NTUsLTAuNDY3NTl6IiBpZD0ibm9zZSIgZmlsbD0iIzAwMTAyNiIgc3Ryb2tlPSIjMDAxMDI2IiBzdHJva2Utd2lkdGg9IjEuMiIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIi8+PHBhdGggZD0iTTIyOC45MTczNSwxNjkuNTU1NDljMCwwIDMuMDkzMjgsMS4wMDcxMSA0LjM1MjE3LDIuMTIyMTMiIGlkPSJ3aGlza2VyIiBmaWxsPSJub25lIiBzdHJva2U9IiMwMDEwMjYiIHN0cm9rZS13aWR0aD0iMS4yIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiLz48cGF0aCBkPSJNMjMzLjM3NzQzLDE3Mi45MzY1MmMtMS41NDY2NCwwLjYxMTQ2IC00LjIwODMsMC4yMTU4MSAtNC4yMDgzLDAuMjE1ODEiIGlkPSJ3aGlza2VyIiBmaWxsPSJub25lIiBzdHJva2U9IiMwMDEwMjYiIHN0cm9rZS13aWR0aD0iMS4yIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiLz48ZyBpZD0iZXllIj48cGF0aCBkPSJNMjQ5LjM0NzM5LDE2NS44ODY3MWMxLjA0MzA4LDEuNjE4NTggMS4wNzkwNSwzLjQ1Mjk2IDAuMDcxOTQsNC4xMDA0Yy0xLjAwNzExLDAuNjQ3NDMgLTIuNjYxNjYsLTAuMTA3OTEgLTMuNzQwNzEsLTEuNzI2NDhjLTEuMDQzMDgsLTEuNjE4NTggLTEuMDc5MDUsLTMuNDUyOTYgLTAuMDcxOTQsLTQuMTAwNGMxLjAwNzExLC0wLjY4MzQgMi42OTc2MywwLjEwNzkxIDMuNzQwNzEsMS43MjY0OHoiIGlkPSJwdXBpbCIgZmlsbD0iI2ZmZmZmZiIgc3Ryb2tlPSIjMDAxMDI2IiBzdHJva2Utd2lkdGg9IjEuMiIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIi8+PHBhdGggZD0iTTI0OS4yMDM1MiwxNjcuOTM2OTFjMCwwLjM5NTY1IC0wLjI4Nzc1LDAuNzE5MzcgLTAuNjQ3NDMsMC43MTkzN2MtMC4zNTk2OCwwIC0wLjY0NzQzLC0wLjMyMzcyIC0wLjY0NzQzLC0wLjcxOTM3YzAsLTAuMzk1NjUgMC4yODc3NSwtMC43MTkzNyAwLjY0NzQzLC0wLjcxOTM3YzAuMzU5NjgsMCAwLjY0NzQzLDAuMzIzNzIgMC42NDc0MywwLjcxOTM3IiBpZD0icHVwaWwiIGZpbGw9IiMwMDEwMjYiIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIxIiBzdHJva2UtbGluZWNhcD0iYnV0dCIgc3Ryb2tlLWxpbmVqb2luPSJtaXRlciIvPjwvZz48ZyBpZD0iZXllIj48cGF0aCBkPSJNMjQwLjQyNzIzLDE2Ni44OTM4M2MxLjA3OTA1LDEuNTgyNjEgMS4wMDcxMSwzLjUyNDkgMC4wMzU5Nyw0LjIwODNjLTEuMTg2OTYsMC42ODM0IC0yLjc2OTU3LDAuMTc5ODQgLTMuODQ4NjIsLTEuNDAyNzdjLTEuMTE1MDIsLTEuNTgyNjEgLTEuMTg2OTYsLTMuNjMyODEgLTAuMDcxOTQsLTQuNDI0MTFjMS4xMTUwMiwtMC44MjcyNyAyLjgwNTUzLDAuMDM1OTcgMy44ODQ1OCwxLjYxODU4eiIgZmlsbD0iI2ZmZmZmZiIgc3Ryb2tlPSIjMDAxMDI2IiBzdHJva2Utd2lkdGg9IjEuMiIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIi8+PHBhdGggZD0iTTI0MC4yMTE0MiwxNjguOTc5OTljMCwwLjM5NTY1IC0wLjI4Nzc1LDAuNzE5MzcgLTAuNjQ3NDMsMC43MTkzN2MtMC4zNTk2OCwwIC0wLjY0NzQzLC0wLjMyMzcyIC0wLjY0NzQzLC0wLjcxOTM3YzAsLTAuMzk1NjUgMC4yODc3NSwtMC43MTkzNyAwLjY0NzQzLC0wLjcxOTM3YzAuMzU5NjgsMC4wMzU5NyAwLjY0NzQzLDAuMzIzNzIgMC42NDc0MywwLjcxOTM3IiBpZD0icHVwaWwiIGZpbGw9IiMwMDEwMjYiIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIxIiBzdHJva2UtbGluZWNhcD0iYnV0dCIgc3Ryb2tlLWxpbmVqb2luPSJtaXRlciIvPjwvZz48L2c+PC9nPjwvZz48L2c+PC9zdmc+';


/**
 * Class for the new blocks in Scratch 3.0
 * @param {Runtime} runtime - the runtime instantiating this block package.
 * @constructor
 */
class Scratch3NewBlocks {
    constructor (runtime) {
        /**
         * The runtime instantiating this block package.
         * @type {Runtime}
         */
        this.runtime = runtime;

        //this._onTargetCreated = this._onTargetCreated.bind(this);
        //this.runtime.on('targetWasCreated', this._onTargetCreated);
    }


    /**
     * @returns {object} metadata for this extension and its blocks.
     */
    getInfo () {
        return {
            id: 'scratch2twelite',
            name: 'scratch2twelite',
            menuIconURI: menuIconURI,
            blockIconURI: blockIconURI,
            blocks: [
                {
                    opcode: 'writeLog',
                    blockType: BlockType.COMMAND,
                    text: 'log [TEXT]',
                    arguments: {
                        TEXT: {
                            type: ArgumentType.STRING,
                            defaultValue: "hello"
                        }
                    }
                },
                {
                    opcode: 'getBrowser',
                    text: 'browser',
                    blockType: BlockType.REPORTER
                },
                {
                    opcode: 'inv', // <-- (1)
                    blockType: BlockType.REPORTER,
                    text: '(([arg1],[arg2]),([arg3],[arg4]))の逆行列',
                    arguments: {
                        arg1: {
                            type: ArgumentType.NUMBER,
                            defaultValue: ""
                        },
                        arg2: {
                            type: ArgumentType.NUMBER,
                            defaultValue: ""
                        },
                        arg3: {
                            type: ArgumentType.NUMBER,
                            defaultValue: ""
                        },
                        arg4: {
                            type: ArgumentType.NUMBER,
                            defaultValue: ""
                        }
                    }
                }
            ],
            menus: {
            }
        };
    }

    /**
     * Write log.
     * @param {object} args - the block arguments.
     * @property {number} TEXT - the text.
     */
    writeLog (args) {
        const text = Cast.toString(args.TEXT);
        log.log(text);
    }

    /**
     * Get the browser.
     * @return {number} - the user agent.
     */
    getBrowser () {
        return navigator.userAgent;
    }

    inv (args) {
        var request = new XMLHttpRequest();
        request.open('GET', 'http://localhost:8000/inv/' + args.arg1 + '/' + args.arg2 + '/' + args.arg3 + '/' + args.arg4, false);
        request.send(null);
        if (request.status === 200) {
            console.log("success " + request.responseText);
            return request.responseText;
        }
    }
}

module.exports = Scratch3NewBlocks;